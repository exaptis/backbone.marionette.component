/**
 * @license almond 0.3.0 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

var requirejs,require,define;!function(t){function e(t,e){return y.call(t,e)}function n(t,e){var n,o,r,i,a,p,c,s,u,l,d,m=e&&e.split("/"),h=f.map,_=h&&h["*"]||{};if(t&&"."===t.charAt(0))if(e){for(m=m.slice(0,m.length-1),t=t.split("/"),a=t.length-1,f.nodeIdCompat&&b.test(t[a])&&(t[a]=t[a].replace(b,"")),t=m.concat(t),u=0;u<t.length;u+=1)if(d=t[u],"."===d)t.splice(u,1),u-=1;else if(".."===d){if(1===u&&(".."===t[2]||".."===t[0]))break;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((m||_)&&h){for(n=t.split("/"),u=n.length;u>0;u-=1){if(o=n.slice(0,u).join("/"),m)for(l=m.length;l>0;l-=1)if(r=h[m.slice(0,l).join("/")],r&&(r=r[o])){i=r,p=u;break}if(i)break;!c&&_&&_[o]&&(c=_[o],s=u)}!i&&c&&(i=c,p=s),i&&(n.splice(0,p,i),t=n.join("/"))}return t}function o(e,n){return function(){var o=v.call(arguments,0);return"string"!=typeof o[0]&&1===o.length&&o.push(null),u.apply(t,o.concat([e,n]))}}function r(t){return function(e){return n(e,t)}}function i(t){return function(e){m[t]=e}}function a(n){if(e(h,n)){var o=h[n];delete h[n],_[n]=!0,s.apply(t,o)}if(!e(m,n)&&!e(_,n))throw new Error("No "+n);return m[n]}function p(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function c(t){return function(){return f&&f.config&&f.config[t]||{}}}var s,u,l,d,m={},h={},f={},_={},y=Object.prototype.hasOwnProperty,v=[].slice,b=/\.js$/;l=function(t,e){var o,i=p(t),c=i[0];return t=i[1],c&&(c=n(c,e),o=a(c)),c?t=o&&o.normalize?o.normalize(t,r(e)):n(t,e):(t=n(t,e),i=p(t),c=i[0],t=i[1],c&&(o=a(c))),{f:c?c+"!"+t:t,n:t,pr:c,p:o}},d={require:function(t){return o(t)},exports:function(t){var e=m[t];return"undefined"!=typeof e?e:m[t]={}},module:function(t){return{id:t,uri:"",exports:m[t],config:c(t)}}},s=function(n,r,p,c){var s,u,f,y,v,b,g=[],C=typeof p;if(c=c||n,"undefined"===C||"function"===C){for(r=!r.length&&p.length?["require","exports","module"]:r,v=0;v<r.length;v+=1)if(y=l(r[v],c),u=y.f,"require"===u)g[v]=d.require(n);else if("exports"===u)g[v]=d.exports(n),b=!0;else if("module"===u)s=g[v]=d.module(n);else if(e(m,u)||e(h,u)||e(_,u))g[v]=a(u);else{if(!y.p)throw new Error(n+" missing "+u);y.p.load(y.n,o(c,!0),i(u),{}),g[v]=m[u]}f=p?p.apply(m[n],g):void 0,n&&(s&&s.exports!==t&&s.exports!==m[n]?m[n]=s.exports:f===t&&b||(m[n]=f))}else n&&(m[n]=p)},requirejs=require=u=function(e,n,o,r,i){if("string"==typeof e)return d[e]?d[e](n):a(l(e,n).f);if(!e.splice){if(f=e,f.deps&&u(f.deps,f.callback),!n)return;n.splice?(e=n,n=o,o=null):e=t}return n=n||function(){},"function"==typeof o&&(o=r,r=i),r?s(t,e,n,o):setTimeout(function(){s(t,e,n,o)},4),u},u.config=function(t){return u(t)},requirejs._defined=m,define=function(t,n,o){n.splice||(o=n,n=[]),e(m,t)||e(h,t)||(h[t]=[t,n,o])},define.amd={jQuery:!0}}(),define("../../../bower_components/almond/almond",function(){}),define("lib/component/utils/InstanceCounter",[],function(){var t,e,n;return t=function(){function t(){var t;t=0,this.getCounter=function(){return t},this.incrementCounter=function(){return++t}}return t}(),(e=Backbone.Marionette).Component||(e.Component={}),(n=Backbone.Marionette.Component).InstanceCounter||(n.InstanceCounter=t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("lib/component/validation/ValidationError",["i18next","underscore.string"],function(t){var e,n,o;return e=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.defaults={errorMessage:""},n.prototype.initialize=function(t,e){return this.validatorName=e.validatorName,this.validationName=e.validationName,this.componentId=e.componentId,this.on("change",this.updateErrorMessage),this.updateErrorMessage()},n.prototype.updateErrorMessage=function(){return this.set("errorMessage",t.t(this.getErrorKey(),this.getErrorValues(),{silent:!0}))},n.prototype.getComponentId=function(){return this.componentId},n.prototype.getErrorKey=function(){var t;return t=[],t.push(this.componentId),t.push(this.validatorName),t.push(this.validationName),t=_.map(t,function(t){return _.string.capitalize(t)}),t.join(".")},n.prototype.getErrorValues=function(){return _.omit(this.toJSON(),"errorMessage")},n}(Backbone.Model),(n=Backbone.Marionette).Component||(n.Component={}),(o=Backbone.Marionette.Component).ValidationError||(o.ValidationError=e)}),define("lib/component/validation/validator/BaseValidator",[],function(){var t,e,n;return t=function(){function t(){}return t.prototype.validate=function(){},t.prototype.onComponentTag=function(){},t}(),(e=Backbone.Marionette).Component||(e.Component={}),(n=Backbone.Marionette.Component).BaseValidator||(n.BaseValidator=t)});var __slice=[].slice;define("lib/component/Component",["lib/component/utils/InstanceCounter","lib/component/validation/ValidationError","lib/component/validation/validator/BaseValidator"],function(){var t,e;return t=function(){function t(t){if(this.componentId=t,!this.componentId)throw new Error("componentId needs to be specified");this.cid="c"+e.incrementCounter(),this._validators=[],this._validationErrors=[],this.parentComponent=null}var e;return e=new Backbone.Marionette.Component.InstanceCounter,t.prototype.triggerMethod=Marionette.triggerMethod,t.prototype.setComponentId=function(t){this.componentId=t},t.prototype.getComponentId=function(){return this.componentId},t.prototype.setModel=function(t){this.model=t},t.prototype.getModel=function(){return this.model},t.prototype.setProperty=function(t){this.property=t},t.prototype.getProperty=function(){return this.property},t.prototype.setViewInstance=function(t){this.viewInstance=t},t.prototype.getViewInstance=function(){return this.viewInstance},t.prototype.setParent=function(t){this.parent=t},t.prototype.getParent=function(){return this.parent},t.prototype.getValue=function(){return this.model.get(this.property)},t.prototype.getValidationErrors=function(){return this._validationErrors},t.prototype.getDomNode=function(){var t;if(t=this.viewInstance.$("[component-id='"+this.componentId+"']"),!t.length)throw new Error("element with id '"+this.componentId+"' could not be found");return t},t.prototype.getModelData=function(){var t;return t={},t[""+this.cid]=this.model,t},t.prototype.add=function(){var t,e,n,o,r;for(e=1<=arguments.length?__slice.call(arguments,0):[],r=[],n=0,o=e.length;o>n;n++)t=e[n],t instanceof Backbone.Marionette.Component.BaseValidator&&this._validators.push(t),r.push(t instanceof Backbone.Marionette.Component.ValidationError?this._validationErrors.push(t):void 0);return r},t.prototype.render=function(){},t.prototype.close=function(){},t.prototype.validate=function(){var t,e,n,o,r;for(this._validationErrors=[],o=this._validators,r=[],e=0,n=o.length;n>e;e++)t=o[e],r.push(t.validate(this));return r},t.prototype.destroy=function(){return this.parent?delete this.parent:void 0},_.extend(t.prototype,Backbone.Events),t}(),Backbone.Marionette||(Backbone.Marionette={}),(e=Backbone.Marionette.Component).Component||(e.Component=t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("lib/component/form/Button",["lib/component/Component"],function(){var t,e,n;return t=function(t){function e(t,n){if(this.componentId=t,this.callback=n,!this.callback)throw new Error("no callback specified");e.__super__.constructor.call(this,this.componentId)}return __extends(e,t),e.prototype.render=function(){return this.getDomNode().on("click",function(t){return function(e){return t.callback.call(t.viewInstance,e)}}(this))},e.prototype.close=function(){return this.getDomNode().off("click")},e}(Backbone.Marionette.Component.Component),(e=Backbone.Marionette).Component||(e.Component={}),(n=Backbone.Marionette.Component).Button||(n.Button=t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("lib/component/form/Checkbox",["lib/component/Component"],function(){var t,e,n;return t=function(t){function e(t,n,o){if(this.componentId=t,this.property=n,this.model=o,!this.model)throw new Error("model needs to be specified");e.__super__.constructor.call(this,this.componentId)}var n;return __extends(e,t),n="checkbox",e.prototype.render=function(){var t;return t=this.getDomNode(),t.attr("type",n),t.attr("rv-checked",""+this.cid+":"+this.property)},e}(Backbone.Marionette.Component.Component),(e=Backbone.Marionette).Component||(e.Component={}),(n=Backbone.Marionette.Component).Checkbox||(n.Checkbox=t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("lib/component/form/Dropdown",["lib/component/Component"],function(){var t,e,n;return t=function(t){function e(t,n,o,r){if(this.componentId=t,this.property=n,this.model=o,this.collection=r,!this.model)throw new Error("model needs to be specified");if(!this.collection)throw new Error("collection needs to be specified");e.__super__.constructor.call(this,this.componentId)}return __extends(e,t),e.prototype.render=function(){var t,e,n;return t="option",e=$("<option>"),e.attr("rv-each-"+t,"collection"+this.cid+":models"),e.attr("rv-value",""+t+":value"),e.attr("rv-text",""+t+":text"),n=this.getDomNodes(),n.attr("rv-value","model"+this.cid+":"+this.property),n.append(e)},e.prototype.getModelData=function(){var t;return t={},t["model"+this.cid]=this.model,t["collection"+this.cid]=this.collection,t},e.prototype.getDomNodes=function(){return Backbone.Marionette.Component.Component.prototype.getDomNode.call(this,arguments)},e.prototype.getDomNode=function(){throw new Error("Unsupported Method, use getDomNodes() instead.")},e}(Backbone.Marionette.Component.Component),(e=Backbone.Marionette).Component||(e.Component={}),(n=Backbone.Marionette.Component).Dropdown||(n.Dropdown=t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("lib/component/form/RadioButton",["lib/component/Component"],function(){var t,e,n;return t=function(t){function e(t,n,o,r){if(this.componentId=t,this.property=n,this.model=o,this.collection=r,!this.model)throw new Error("model needs to be specified");if(!this.collection)throw new Error("collection needs to be specified");e.__super__.constructor.call(this,this.componentId)}var n;return __extends(e,t),n="radio",e.prototype.render=function(){var t,e,o,r,i;return t="radio",e=$("<label>"),o=this.getDomNodes(),o.attr("type",n),o.attr("rv-value",""+t+":value"),o.attr("rv-checked","model"+this.cid+":"+this.property),r=$("<div>"),r.attr("class",o.parent().attr("class")),r.attr("rv-each-"+t,"collection"+this.cid+":models"),o.parent().attr("class",""),i=$("<div>"),i.attr("rv-text",""+t+":text"),o.wrap(e),o.parent().wrap(r),i.insertAfter(o)},e.prototype.getModelData=function(){var t;return t={},t["model"+this.cid]=this.model,t["collection"+this.cid]=this.collection,t},e.prototype.getDomNodes=function(){return Backbone.Marionette.Component.Component.prototype.getDomNode.call(this,arguments)},e.prototype.getDomNode=function(){throw new Error("Unsupported Method, use getDomNodes() instead.")},e}(Backbone.Marionette.Component.Component),(e=Backbone.Marionette).Component||(e.Component={}),(n=Backbone.Marionette.Component).RadioButton||(n.RadioButton=t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("lib/component/form/TextArea",["lib/component/Component"],function(){var t,e,n;return t=function(t){function e(t,n,o){if(this.componentId=t,this.property=n,this.model=o,!this.model)throw new Error("model needs to be specified");e.__super__.constructor.call(this,this.componentId,this.model)}return __extends(e,t),e.prototype.render=function(){var t;return t=this.getDomNode(),t.attr("rv-value",""+this.cid+":"+this.property)},e}(Backbone.Marionette.Component.Component),(e=Backbone.Marionette).Component||(e.Component={}),(n=Backbone.Marionette.Component).TextArea||(n.TextArea=t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("lib/component/form/TextField",["lib/component/Component"],function(){var t,e,n;return t=function(t){function e(t,n,o){if(this.componentId=t,this.property=n,this.model=o,!this.model)throw new Error("model needs to be specified");e.__super__.constructor.call(this,this.componentId,this.model)}var n;return __extends(e,t),n="text",e.prototype.render=function(){var t;return t=this.getDomNode(),t.attr("type")||t.attr("type",this.inputType||n),t.attr("rv-value",""+this.cid+":"+this.property)},e}(Backbone.Marionette.Component.Component),(e=Backbone.Marionette).Component||(e.Component={}),(n=Backbone.Marionette.Component).TextField||(n.TextField=t)}),define("lib/component/generics/Map",[],function(){var t,e,n,o;return t=function(){function t(){this._entries={}}return t.prototype.put=function(t,e){return this.has(t)?void 0:this._entries[t]=e},t.prototype.get=function(t){return this._entries[t]},t.prototype.remove=function(t){return delete this._entries[t]},t.prototype.clear=function(){return this._entries={}},t.prototype.size=function(){return this.keys().length},t}(),e=["values","keys","has","each","isEmpty"],_.each(e,function(e){return t.prototype[e]=function(){var t;return t=[].slice.call(arguments),t.unshift(this._entries),_[e].apply(_,t)}}),(n=Backbone.Marionette).Component||(n.Component={}),(o=Backbone.Marionette.Component).Map||(o.Map=t)});var __slice=[].slice;define("lib/component/utils/ComponentStore",["lib/component/Component","lib/component/generics/Map"],function(){var t,e,n;return t=function(){function t(){this._components=new Backbone.Marionette.Component.Map}return t.prototype.add=function(){var t,e,n,o,r;for(e=1<=arguments.length?__slice.call(arguments,0):[],r=[],n=0,o=e.length;o>n;n++){if(t=e[n],!(t instanceof Backbone.Marionette.Component.Component))throw new Error(""+t.constructor.name+" has to be an instance of Component");if(this._components.has(t.getComponentId()))throw new Error(""+t.getComponentId()+" has already been added");r.push(this._components.put(t.getComponentId(),t))}return r},t.prototype.remove=function(t){return this._components.remove(t.getComponentId())},t.prototype.contains=function(t){return this._components.has(t.getComponentId())},t.prototype.each=function(t){return this._components.each(function(e){return t.call(this,e)})},t}(),(e=Backbone.Marionette).Component||(e.Component={}),(n=Backbone.Marionette.Component).ComponentStore||(n.ComponentStore=t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},__slice=[].slice;define("lib/component/Form",["lib/component/Component","lib/component/utils/ComponentStore"],function(){var t,e,n;return t=function(t){function e(t,n){this.componentId=t,null==n&&(n={}),e.__super__.constructor.apply(this,arguments),this.onSubmit=n.onSubmit,this.onError=n.onError,this._componentStore=new Backbone.Marionette.Component.ComponentStore}return __extends(e,t),e.prototype.setViewInstance=function(t){return e.__super__.setViewInstance.apply(this,arguments),this._componentStore.each(function(e){return e.setViewInstance(t)})},e.prototype.getModelData=function(){var t;return t={},this._componentStore.each(function(e){return t=_.extend(t,e.getModelData())}),t},e.prototype.add=function(){var t,e,n,o,r;for(e=1<=arguments.length?__slice.call(arguments,0):[],this._componentStore.add.apply(this._componentStore,e),r=[],n=0,o=e.length;o>n;n++)t=e[n],r.push(t.setParent(this));return r},e.prototype.contains=function(t){return this._componentStore.contains.call(this._componentStore,t)},e.prototype.remove=function(t){return this._componentStore.remove.call(this._componentStore,t)},e.prototype.render=function(){var t;return this._componentStore.each(function(t){return t.render()}),t=this.getDomNode(),t.on("submit",function(t){return function(e){return t.process.call(t,e)}}(this))},e.prototype.close=function(){var t;return this._componentStore.each(function(t){return t.close()}),t=this.getDomNode(),t.off("submit")},e.prototype.destroy=function(){return this._componentStore.each(function(t){return t.destroy()})},e.prototype.process=function(t){var e;return t.preventDefault(),e=this.getParent().getFeedbackList(),e.reset(),this._componentStore.each(function(t){return t.validate(),e.add(t.getValidationErrors())}),e.length?this.triggerMethod("error",e):this.triggerMethod("submit")},e}(Backbone.Marionette.Component.Component),(e=Backbone.Marionette).Component||(e.Component={}),(n=Backbone.Marionette.Component).Form||(n.Form=t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("lib/component/panel/BasePanel",["lib/component/Component"],function(){var t,e,n;return t=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e}(Backbone.Marionette.Component.Component),(e=Backbone.Marionette).Component||(e.Component={}),(n=Backbone.Marionette.Component).BasePanel||(n.BasePanel=t)}),define("lib/component/adapter/rivets",["rivets"],function(t){var e;return e='object not supported for rv-adapter ":"',t.adapters[":"]={observe:function(t,n,o){if(t instanceof Backbone.Model)t.on("change:"+n,o);else{if(!(t instanceof Backbone.Collection))throw new Error(e);t.on("add remove reset",o)}},unobserve:function(t,n,o){if(t instanceof Backbone.Model)t.off("change:"+n,o);else{if(!(t instanceof Backbone.Collection))throw new Error(e);t.off("add remove reset",o)}},get:function(t,n){if(t instanceof Backbone.Model)return t.get(n);if(t instanceof Backbone.Collection)return t[n];throw new Error(e)},set:function(t,n,o){if(t instanceof Backbone.Model)t.set(n,o);else{if(!(t instanceof Backbone.Collection))throw new Error(e);t[n]=o}}},t});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},__slice=[].slice;define("lib/component/ItemView",["lib/component/utils/ComponentStore","lib/component/panel/BasePanel","lib/component/adapter/rivets"],function(){var t,e,n;return t=function(t){function e(){this._componentStore=new Backbone.Marionette.Component.ComponentStore,this._feedbackList=new Backbone.Collection,e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.getFeedbackList=function(){return this._feedbackList},e.prototype.add=function(){var t,e,n,o,r;for(e=1<=arguments.length?__slice.call(arguments,0):[],this._componentStore.add.apply(this._componentStore,e),r=[],n=0,o=e.length;o>n;n++)t=e[n],t.setParent(this),t.setViewInstance(this),r.push(t instanceof Backbone.Marionette.Component.BasePanel?t.setFeedbackList(this._feedbackList):void 0);return r},e.prototype.contains=function(t){return this._componentStore.contains(t)},e.prototype.removeComponent=function(t){return this._componentStore.remove(t)},e.prototype.render=function(){var t;return e.__super__.render.apply(this,arguments),t={},this._componentStore.each(function(t){return t.render()}),this._componentStore.each(function(e){return t=_.extend(t,e.getModelData())}),this.rivetsView=rivets.bind(this.$el,t)},e.prototype.close=function(){return this._componentStore.each(function(t){return t.close()}),this.rivetsView?this.rivetsView.unbind():void 0},e.prototype.destroy=function(){return this._componentStore.each(function(t){return t.destroy()}),e.__super__.destroy.apply(this,arguments)},e}(Backbone.Marionette.ItemView),(e=Backbone.Marionette).Component||(e.Component={}),(n=Backbone.Marionette.Component).ItemView||(n.ItemView=t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("lib/component/markup/Label",["lib/component/Component"],function(){var t,e,n;return t=function(t){function e(t,n,o){this.componentId=t,this.value=n,this.model=o,e.__super__.constructor.call(this,this.componentId,this.model)}return __extends(e,t),e.prototype.render=function(){return this.model?this.getDomNode().attr("rv-text",""+this.cid+":"+this.value):this.getDomNode().text(this.value)},e}(Backbone.Marionette.Component.Component),(e=Backbone.Marionette).Component||(e.Component={}),(n=Backbone.Marionette.Component).Label||(n.Label=t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("lib/component/utils/FilteredCollection",[],function(){var t,e,n;return t=function(t){function e(t,o){null==o&&(o={}),this.underlying=t,this.model=t.model,this.comparator=o.comparator||n(t),this.options=_.extend({},t.options,o),e.__super__.constructor.call(this,this.underlying.models.filter(this.options.filter),o),this.listenTo(this.underlying,{reset:function(t){return function(){return t.reset(t.underlying.models.filter(t.options.filter))}}(this),remove:function(t){return function(e){return t.contains(e)?t.remove(e):void 0}}(this),add:function(t){return function(e){return t.options.filter(e)?t.add(e):void 0}}(this),change:function(t){return function(e){return t.decideOn(e)}}(this),sort:function(t){return function(){return t.comparator.induced?t.sort():void 0}}(this)})}var n;return __extends(e,t),e.prototype.update=function(){var t,e,n,o,r;for(o=this.underlying.models,r=[],e=0,n=o.length;n>e;e++)t=o[e],r.push(this.decideOn(t));return r},e.prototype.decideOn=function(t){if(this.contains(t)){if(!this.options.filter(t))return this.remove(t)}else if(this.options.filter(t))return this.add(t)},n=function(t){var e;return e=function(e){return t.indexOf(e)},e.induced=!0,e},e}(Backbone.Collection),(e=Backbone.Marionette).Component||(e.Component={}),(n=Backbone.Marionette.Component).FilteredCollection||(n.FilteredCollection=t)});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("lib/component/panel/FeedbackPanel",["lib/component/panel/BasePanel","lib/component/utils/FilteredCollection"],function(){var t,e,n;return t=function(t){function e(t,n){this.componentId=t,this.filter=n,this.componentFilter=__bind(this.componentFilter,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.setFeedbackList=function(t){return this._feedbackList=this.filter?new Backbone.Marionette.Component.FilteredCollection(t,{filter:this.componentFilter}):t},e.prototype.componentFilter=function(t){return t.getComponentId()===this.filter.getComponentId()},e.prototype.render=function(){var t,e,n,o;return t="feedback",o=$("<li>"),o.attr("rv-each-"+t,"collection"+this.cid+":models"),o.attr("rv-text",""+t+":errorMessage"),e=$("<ul>"),e.append(o),n=this.getDomNode(),n.attr("rv-show","collection"+this.cid+":length"),n.append(e)},e.prototype.getModelData=function(){var t;return t={},t["collection"+this.cid]=this._feedbackList,t},e.prototype.destroy=function(){return delete this.filter,delete this._feedbackList},e}(Backbone.Marionette.Component.BasePanel),(e=Backbone.Marionette).Component||(e.Component={}),(n=Backbone.Marionette.Component).FeedbackPanel||(n.FeedbackPanel=t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("lib/component/validation/validator/PatternValidator",["lib/component/validation/validator/BaseValidator","lib/component/validation/ValidationError"],function(){var t,e,n;return t=function(t){function e(t,e){this.pattern=t,this.mode=null!=e?e:"ig"}return __extends(e,t),e.prototype.NAME="PatternValidator",e.prototype.validate=function(t){var e,n,o,r;return r=t.getValue(),o=new RegExp(this.pattern,this.mode),o.test(r)?void 0:(e={validatorName:this.NAME,validationName:"pattern",componentId:t.getComponentId()},n={pattern:this.pattern,value:r},t.add(new Backbone.Marionette.Component.ValidationError(n,e)))},e}(Backbone.Marionette.Component.BaseValidator),(e=Backbone.Marionette).Component||(e.Component={}),(n=Backbone.Marionette.Component).PatternValidator||(n.PatternValidator=t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("lib/component/validation/validator/EmailAddressValidator",["lib/component/validation/validator/PatternValidator"],function(){var t,e,n;return t=function(t){function e(){e.__super__.constructor.call(this,"^[_A-Za-z0-9-]+(.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(.[A-Za-z0-9-]+)*((.[A-Za-z]{2,}){1}$)","ig")}return __extends(e,t),e.prototype.NAME="EmailAddressValidator",e}(Backbone.Marionette.Component.PatternValidator),(e=Backbone.Marionette).Component||(e.Component={}),(n=Backbone.Marionette.Component).EmailAddressValidator||(n.EmailAddressValidator=t)});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function n(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};define("lib/component/validation/validator/StringValidator",["lib/component/validation/validator/BaseValidator","lib/component/validation/ValidationError"],function(){var t,e,n;return t=function(t){function e(t,e,n){this.minimum=null!=t?t:null,this.maximum=null!=e?e:null,this.validationName=n}return __extends(e,t),e.prototype.NAME="StringValidator",e.prototype.validate=function(t){var e,n,o;return o=t.getValue(),this.minimum&&this.minimum>(null!=o?o.length:void 0)||this.maximum&&this.maximum<(null!=o?o.length:void 0)?(n={validationName:this.validationName,validatorName:this.NAME,componentId:t.getComponentId()},e=new Backbone.Marionette.Component.ValidationError({value:o},n),this.minimum&&e.set("minimum",this.minimum),this.maximum&&e.set("maximum",this.maximum),t.add(e)):void 0},e.prototype.onComponentTag=function(t,e){return e.attr("minlength")||e.attr("minlength",this.minimum),e.attr("maxlength")?void 0:e.attr("maxlength",this.maximum)},e.prototype.exactLength=function(t){return new Backbone.Marionette.Component.StringValidator(t,t,"exactLength")},e.prototype.maximumLength=function(t){return new Backbone.Marionette.Component.StringValidator(null,t,"maximumLength")},e.prototype.minimumLength=function(t){return new Backbone.Marionette.Component.StringValidator(t,null,"minimumLength")},e.prototype.lengthBetween=function(t,e){return new Backbone.Marionette.Component.StringValidator(t,e,"between")},e}(Backbone.Marionette.Component.BaseValidator),(e=Backbone.Marionette).Component||(e.Component={}),(n=Backbone.Marionette.Component).StringValidator||(n.StringValidator=t)}),define("lib/bundle",["lib/component/Component","lib/component/form/Button","lib/component/form/Checkbox","lib/component/form/Dropdown","lib/component/form/RadioButton","lib/component/form/TextArea","lib/component/form/TextField","lib/component/Form","lib/component/generics/Map","lib/component/ItemView","lib/component/markup/Label","lib/component/panel/BasePanel","lib/component/panel/FeedbackPanel","lib/component/utils/ComponentStore","lib/component/utils/FilteredCollection","lib/component/utils/InstanceCounter","lib/component/validation/ValidationError","lib/component/validation/validator/BaseValidator","lib/component/validation/validator/EmailAddressValidator","lib/component/validation/validator/PatternValidator","lib/component/validation/validator/StringValidator"],function(){return window.Backbone.Marionette.Component=Backbone.Marionette.Component});